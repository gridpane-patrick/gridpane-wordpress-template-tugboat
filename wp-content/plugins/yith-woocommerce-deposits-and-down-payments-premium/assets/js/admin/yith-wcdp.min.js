jQuery(function(o){var t=o("#yith_wcdp_general_deposit_type"),e=o("#yith_wcdp_general_deposit_amount"),n=o("#yith_wcdp_general_deposit_rate"),a=o("#yith_wcdp_general_deposit_virtual"),i=o("#yith_wcdp_general_deposit_shipping"),r=o("#yith_wcdp_general_deposit_shipping_admin_selection"),c=o("#yith_wcdp_general_create_balance_orders"),s=o("#yith_wcdp_deposit_expiration_enable"),d=o("#yith_wcdp_deposits_expiration_type"),p=o("#yith_wcdp_deposits_expiration_duration"),l=o("#yith_wcdp_deposits_expiration_date"),_=o("#yith_wcdp_deposits_expiration_product_fallback"),u=o("#yith_wcdp_deposit_expiration_fallback"),h=o("#yith_wcdp_notify_customer_deposit_expiring"),f=o("#yith_wcdp_notify_customer_deposit_expiring_days_limit"),y=o("#yith_wcdp_balance_type"),g=o("#yith_wcdp_deposit_labels_product_note"),m=o("#yith_wcdp_deposit_labels_product_note_position");t.on("change",function(){var t=o(this).val();"amount"==t?(e.parents("tr").show(),n.parents("tr").hide()):"rate"==t&&(e.parents("tr").hide(),n.parents("tr").show())}).change(),a.on("change",function(){(o(this).is(":checked")?i.parents("tr").show():i.parents("tr").hide()).end().change()}).change(),i.on("change",function(){var t=o(this);"admin_choose"===t.val()&&t.is(":visible")?r.parents("tr").show():r.parents("tr").hide()}).change(),s.on("change",function(){o(this).is(":checked")?(d.parents("tr").show().end().change(),h.change().parents("tr").show(),u.change().parents("tr").show()):(d.parents("tr").hide(),p.parents("tr").hide(),l.parents("tr").hide(),h.parents("tr").hide(),f.parents("tr").hide(),_.parents("tr").hide(),u.change().parents("tr").hide())}).change(),y.on("change",function(){"none"===o(this).val()?c.parents("tr").hide():c.parents("tr").show()}).change(),d.on("change",function(){var t=o(this);t.is(":visible")&&("num_of_days"===t.val()?(p.parents("tr").show(),l.parents("tr").hide(),_.parents("tr").hide()):(p.parents("tr").hide(),l.parents("tr").show(),_.parents("tr").show()))}).change(),h.on("change",function(){o(this).is(":checked")?f.parents("tr").show():f.parents("tr").hide()}).change(),m.on("change",function(){"none"===o(this).val()?g.parents("tr").hide():g.parents("tr").show()}).change(),o("#yith_wcdp_panel_deposits").find("td.column-type select").on("change",function(){var t=o(this),e=t.closest("tr").find(".column-value").find("input");"rate"===t.val()?e.attr("max",100):e.attr("max",9999999)}).change(),o(".yith-roles-update-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=e.data("role_slug"),i=n.find(".column-type select").val(),n=n.find(".column-value input").val();t.preventDefault(),"rate"===i&&100<n?alert(yith_wcdp.labels.max_rate_notice):o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_roles_deposit",role_slug:a,type:i,value:n},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){},url:ajaxurl})}),o(".yith-roles-delete-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=n.parents("tbody"),i=e.data("role_slug");t.preventDefault(),o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_roles_deposit",role_slug:i},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){n.remove(),0==a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),o(".yith-products-update-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=e.data("product_id"),i=n.find(".column-type select").val(),n=n.find(".column-value input").val();t.preventDefault(),"rate"===i&&100<n?alert(yith_wcdp.labels.max_rate_notice):o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_products_deposit",product_id:a,type:i,value:n},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){},url:ajaxurl})}),o(".yith-products-delete-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=n.parents("tbody"),i=e.data("product_id");t.preventDefault(),o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_products_deposit",product_id:i},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){n.remove(),0==a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),o(".yith-categories-update-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=e.data("term_id"),i=n.find(".column-type select").val(),n=n.find(".column-value input").val();t.preventDefault(),"rate"===i&&100<n?alert(yith_wcdp.labels.max_rate_notice):o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_categories_deposit",term_id:a,type:i,value:n},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){},url:ajaxurl})}),o(".yith-categories-delete-deposit").on("click",function(t){var e=o(this),n=e.parents("tr"),a=n.parents("tbody"),i=e.data("term_id");t.preventDefault(),o.ajax({beforeSend:function(){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_categories_deposit",term_id:i},dataType:"json",method:"POST",complete:function(){e.unblock()},success:function(t){n.remove(),0===a.find("tr").length&&a.html(yith_wcdp.empty_row)},url:ajaxurl})}),o(document.body).on("wc-init-datepickers woocommerce_variations_loaded",function(){o(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("wc-init-datepickers")});