!function(l){var t=function(){l(document).find(".no-bottom").closest(".the-metabox").addClass("no-bottom"),l(document).find(".no-bottom").closest(".yith-toggle-content-row").addClass("no-bottom"),l(document).find(".no-top").closest(".the-metabox").addClass("no-top"),l(document).find(".no-top").closest(".yith-toggle-content-row").addClass("no-top"),l(document).find(".yith-plugin-fw-hidden-field-wrapper").closest(".yith-add-box-row").hide()},i=function(){var t=l(document).find(".wp-list-table tr.type-yith-pos-register");0<t.length&&l.each(t,function(){var t=l(this),e=t.find(".yith-pos-register-toggle-enabled input").val(),o=t.find(".edit"),s=o.html().replace(" | ",""),i=t.find(".open-register");o.html(s),"yes"!=e?i.hide():(o.html(s+" | "),i.show())})};i(),l(document).on("yith-add-box-button-toggle",t),t(),l(document).on("click",".yith-pos-compact-list__show-more, .yith-pos-compact-list__hide-more",function(t){t.stopPropagation();var e=l(this).closest(".yith-pos-compact-list"),o=e.find(".yith-pos-compact-list__hidden-items");e.toggleClass("yith-pos-compact-list--open"),o.length&&(e.is(".yith-pos-compact-list--open")?o.slideDown(300):o.slideUp(300))}),l(document).on("change",".yith-pos-store-toggle-enabled input",function(){var t="yes"===l(this).val()?"yes":"no",e=l(this).closest(".yith-pos-store-toggle-enabled"),o=e.data("store-id"),s=e.data("security");e.block(yith_pos.blockParams),l.ajax({type:"POST",data:{action:"yith_pos_store_toggle_enabled",id:o,enabled:t,security:s},url:ajaxurl,success:function(t){"undefined"!=typeof t.error&&alert(t.error)},complete:function(){e.unblock()}})}),l(document).on("change",".yith-pos-register-toggle-enabled input",function(){var t="yes"===l(this).val()?"yes":"no",e=l(this).closest(".yith-pos-register-toggle-enabled"),o=e.data("register-id"),s=e.data("security");e.block(yith_pos.blockParams),l.ajax({type:"POST",data:{action:"yith_pos_register_toggle_enabled",id:o,enabled:t,security:s},url:ajaxurl,success:function(t){"undefined"!=typeof t.error&&alert(t.error)},complete:function(){e.unblock(),i()}})}),l(".yith-pos-create-user-form__container").each(function(){var s=l(this),i=s.find(".yith-pos-create-user-form"),t=s.find(".yith-pos-create-user-form__add"),e=s.data("select2-to-populate"),n=e?l(e):{},a=i.find(".yith-pos-create-user-form__field"),r=i.find(".yith-pos-create-user-form__message"),c=function(){i.slideUp(300),s.removeClass("yith-pos-create-user-form--open")};t.on("click",function(){s.is(".yith-pos-create-user-form--open")?(c(),t.html(t.data("text")).removeClass("closed")):(i.slideDown(300),s.addClass("yith-pos-create-user-form--open"),yith_pos.scrollTo(t),t.html(t.data("close-text")).addClass("closed"))}),s.on("click",".yith-pos-create-user-form__save",function(){var t,e,o={};r.html(""),a.each(function(){l(this).trigger("validate_field"),t=l(this).data("name"),e=l(this).val(),o[t]=e}),0===s.find(".validate-error").length&&(s.block(yith_pos.blockParams),l.ajax({type:"POST",data:o,url:ajaxurl,success:function(t){if("undefined"!=typeof t.success&&t.success){if(n&&n.length){var e=new Option(t.user_name_html,t.user_id,!0,!0);n.append(e).trigger("change"),yith_pos.scrollTo(n),i.find(".yith-pos-create-user-form__field--to-reset").val(""),c()}}else r.html('<p class="validate-error">'+t.error+"</p>")},complete:function(){s.unblock()}}))})}),l(document).on("click",".yith-pos-settings-box__toggle",function(t){var e=l(t.target).closest(".yith-pos-settings-box"),o=e.find(".yith-pos-settings-box__content");e.is(".yith-pos-settings-box--closed")?o.slideDown(400):o.slideUp(400),e.toggleClass("yith-pos-settings-box--closed")}),l(document).on("click",".yith-pos-admin-notice__dismiss",function(){l(this).closest(".yith-pos-admin-notice").fadeOut(300)});if(l("body").hasClass("edit-php")){var e=l(".post_type_page").val();if(["yith-pos-store","yith-pos-register","yith-pos-receipt"].includes(e)){var o=e.replace("yith-pos-","")+"-description";"undefined"!=typeof admin_i18n[o]&&l('<div class="list-table-description">'+admin_i18n[o]+"</div>").insertBefore("hr.wp-header-end"),l(".yith-pos-admin-notice").insertBefore("hr.wp-header-end")}}}(jQuery);